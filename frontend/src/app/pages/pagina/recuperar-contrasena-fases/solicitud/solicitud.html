<div class="relative flex flex-col gap-4 sm:gap-5 w-full h-full bg-white rounded-2xl p-5 sm:p-8 md:p-10 lg:p-12 shadow-xl border border-[#e8f4fc] overflow-hidden">
  <!-- Decoraciones de fondo -->
  <div class="absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-linear-to-bl from-[#1788EF]/10 to-transparent rounded-bl-full"></div>
  <div class="absolute bottom-0 left-0 w-20 h-20 sm:w-28 sm:h-28 bg-linear-to-tr from-[#00A448]/10 to-transparent rounded-tr-full"></div>

  <!-- Header del paso -->
  <div class="relative z-10 flex items-center gap-3">
    <span class="flex h-8 w-8 sm:h-9 sm:w-9 items-center justify-center rounded-full bg-linear-to-br from-[#034D82] to-[#01162E] text-sm sm:text-base font-bold text-white shadow-md">1</span>
    <div>
      <p class="text-base sm:text-lg font-semibold text-gray-800">Solicita Recuperación</p>
      <p class="text-xs sm:text-sm text-gray-500">Ingresa tu correo electrónico</p>
    </div>
  </div>

  <!-- Descripción -->
  <div class="relative z-10 text-center sm:text-left">
    <p class="text-sm sm:text-base text-gray-600 leading-relaxed">
      Por favor, introduce tu correo electrónico para restablecer la contraseña.
    </p>
  </div>

  <!-- Mensaje de error -->
  @if (errorMessage) {
  <div class="relative z-10 rounded-xl border border-red-200 bg-red-50 p-3 sm:p-4">
    <div class="flex items-center gap-3">
      <span class="icon-[hugeicons--alert-circle] text-lg sm:text-xl text-red-500 shrink-0"></span>
      <p class="text-xs sm:text-sm text-red-700 font-medium">{{ errorMessage }}</p>
    </div>
  </div>
  }

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="relative z-10 flex flex-col gap-4 sm:gap-5">
    <!-- Correo -->
    <div class="space-y-1">
      <label class="floating-label block">
        <span class="text-xs sm:text-sm font-medium text-gray-700">Correo electrónico</span>
        <div class="mt-1 relative">
          <input type="email" formControlName="correo" placeholder="mail@site.com"
            [class.border-red-500]="f['correo'].invalid && f['correo'].touched"
            class="input input-sm sm:input-md w-full border-gray-200 bg-gray-50/50 text-gray-800 placeholder-gray-400 pr-10 rounded-xl
            transition-all duration-200 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none" />
          <span class="icon-[material-symbols-light--mail-rounded] absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 text-lg sm:text-xl pointer-events-none"></span>
        </div>
      </label>
      <div class="min-h-4">
        <small class="block text-[10px] sm:text-xs text-red-500 font-medium"
          *ngIf="f['correo'].invalid && f['correo'].touched">
          <span *ngIf="f['correo'].hasError('required')">El correo es requerido.</span>
          <span *ngIf="f['correo'].hasError('email')">Ingresa un correo válido.</span>
        </small>
      </div>
    </div>

    <!-- Botón Submit -->
    <button type="submit"
      class="btn btn-block btn-sm sm:btn-md bg-blue-600 border-blue-600 text-white font-semibold rounded-xl
      shadow-lg shadow-blue-600/25 hover:bg-blue-700 hover:border-blue-700 hover:shadow-blue-700/30
      transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed mt-2"
      [disabled]="isLoading || cooldownSeconds > 0">
      @if (isLoading) {
      <span class="loading loading-spinner loading-xs sm:loading-sm"></span>
      <span class="text-xs sm:text-sm">Enviando código...</span>
      } @else if (cooldownSeconds > 0) {
      <span class="icon-[heroicons-outline--clock] text-base sm:text-lg"></span>
      <span class="text-xs sm:text-sm">Espera {{ cooldownSeconds }}s</span>
      } @else {
      <span class="text-xs sm:text-sm">Enviar código</span>
      <span class="icon-[heroicons-outline--arrow-right] text-base sm:text-lg"></span>
      }
    </button>
  </form>
</div>
